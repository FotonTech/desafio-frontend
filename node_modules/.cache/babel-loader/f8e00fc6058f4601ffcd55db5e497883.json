{"remainingRequest":"/home/geffting/workspace/fotonnn/vue/desafio-frontend/foton/node_modules/thread-loader/dist/cjs.js!/home/geffting/workspace/fotonnn/vue/desafio-frontend/foton/node_modules/babel-loader/lib/index.js!/home/geffting/workspace/fotonnn/vue/desafio-frontend/foton/node_modules/@vue/cli-plugin-eslint/node_modules/eslint-loader/index.js??ref--13-0!/home/geffting/workspace/fotonnn/vue/desafio-frontend/foton/src/vuex/actions.js","dependencies":[{"path":"/home/geffting/workspace/fotonnn/vue/desafio-frontend/foton/src/vuex/actions.js","mtime":1620225513467},{"path":"/home/geffting/workspace/fotonnn/vue/desafio-frontend/foton/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/geffting/workspace/fotonnn/vue/desafio-frontend/foton/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/geffting/workspace/fotonnn/vue/desafio-frontend/foton/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/geffting/workspace/fotonnn/vue/desafio-frontend/foton/node_modules/@vue/cli-plugin-eslint/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL2dlZmZ0aW5nL3dvcmtzcGFjZS9mb3Rvbm5uL3Z1ZS9kZXNhZmlvLWZyb250ZW5kL2ZvdG9uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuZGVzY3JpcHRpb24uanMiOwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwppbXBvcnQgXyBmcm9tICdsb2Rhc2gnOwp2YXIgcXVlcnkgPSAnaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vYm9va3MvdjEnOwpleHBvcnQgZGVmYXVsdCB7CiAgZ2V0Qm9va0xpc3Q6IGZ1bmN0aW9uIGdldEJvb2tMaXN0KF9yZWYsIHBhcmFtcykgewogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgdmFyIHN0YXRlLCBjb21taXQsIGJvb2tMaXN0Q2FjaGVkLCBfeWllbGQkYXhpb3MkZ2V0LCBkYXRhLCBib29rTGlzdCwgc3RhdGVCb29rTGlzdDsKCiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBzdGF0ZSA9IF9yZWYuc3RhdGUsIGNvbW1pdCA9IF9yZWYuY29tbWl0OwoKICAgICAgICAgICAgICBpZiAoIShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbGFzdFNlYXJjaCcpID09PSBwYXJhbXMgJiYgc3RhdGUucGFnZSA9PT0gMCkpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA3OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBib29rTGlzdENhY2hlZCA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2Jvb2tMaXN0JykpOwogICAgICAgICAgICAgIGNvbW1pdCgnQk9PS19MSVNUJywgYm9va0xpc3RDYWNoZWQpOwogICAgICAgICAgICAgIGNvbW1pdCgnU0VUX1BBR0UnLCBib29rTGlzdENhY2hlZC5sZW5ndGggLyAxMCAtIDEpOwogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyNzsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICBpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2xhc3RTZWFyY2gnKSAhPT0gcGFyYW1zKSB7CiAgICAgICAgICAgICAgICBjb21taXQoJ1NFVF9QQUdFJywgMCk7CiAgICAgICAgICAgICAgICBjb21taXQoJ0JPT0tfTElTVCcsIFtdKTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdsYXN0U2VhcmNoJywgcGFyYW1zKTsKICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gOTsKCiAgICAgICAgICAgICAgaWYgKHN0YXRlLnBhZ2UgPT09IDApIHsKICAgICAgICAgICAgICAgIGNvbW1pdCgnQk9PS19MSVNUX0xPQURJTkcnLCB0cnVlKTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMzsKICAgICAgICAgICAgICByZXR1cm4gYXhpb3MuZ2V0KCIiLmNvbmNhdChxdWVyeSwgIi92b2x1bWVzP21heFJlc3VsdHM9MTAmc3RhcnRJbmRleD0iKS5jb25jYXQoc3RhdGUucGFnZSwgIiZxPSIpLmNvbmNhdChwYXJhbXMpKTsKCiAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgX3lpZWxkJGF4aW9zJGdldCA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgZGF0YSA9IF95aWVsZCRheGlvcyRnZXQuZGF0YTsKICAgICAgICAgICAgICBib29rTGlzdCA9IGRhdGEuaXRlbXMubWFwKGZ1bmN0aW9uIChib29rKSB7CiAgICAgICAgICAgICAgICB2YXIgX2Jvb2skc2VhcmNoSW5mbywgX2Jvb2skdm9sdW1lSW5mbyRpbWFnLCBfYm9vayR2b2x1bWVJbmZvJGltYWcyOwoKICAgICAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICAgIGlkOiBib29rLmlkLAogICAgICAgICAgICAgICAgICB0aXRsZTogYm9vay52b2x1bWVJbmZvLnRpdGxlLAogICAgICAgICAgICAgICAgICBhdXRob3I6IGJvb2sudm9sdW1lSW5mby5hdXRob3JzID8gYm9vay52b2x1bWVJbmZvLmF1dGhvcnNbMF0gOiAnVW5rb3duIGF1dGhvcicsCiAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBib29rLnZvbHVtZUluZm8uZGVzY3JpcHRpb24gfHwgKChfYm9vayRzZWFyY2hJbmZvID0gYm9vay5zZWFyY2hJbmZvKSA9PT0gbnVsbCB8fCBfYm9vayRzZWFyY2hJbmZvID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYm9vayRzZWFyY2hJbmZvLnRleHRTbmlwcGV0KSB8fCAnJywKICAgICAgICAgICAgICAgICAgaW1nQ292ZXI6ICgoX2Jvb2skdm9sdW1lSW5mbyRpbWFnID0gYm9vay52b2x1bWVJbmZvLmltYWdlTGlua3MpID09PSBudWxsIHx8IF9ib29rJHZvbHVtZUluZm8kaW1hZyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Jvb2skdm9sdW1lSW5mbyRpbWFnLnNtYWxsVGh1bWJuYWlsKSB8fCAoKF9ib29rJHZvbHVtZUluZm8kaW1hZzIgPSBib29rLnZvbHVtZUluZm8uaW1hZ2VMaW5rcykgPT09IG51bGwgfHwgX2Jvb2skdm9sdW1lSW5mbyRpbWFnMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Jvb2skdm9sdW1lSW5mbyRpbWFnMi50aHVtYm5haWwpCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIHN0YXRlQm9va0xpc3QgPSBfLmNsb25lRGVlcChzdGF0ZS5ib29rTGlzdCkuY29uY2F0KGJvb2tMaXN0KTsKICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnYm9va0xpc3QnLCBKU09OLnN0cmluZ2lmeShzdGF0ZUJvb2tMaXN0KSk7CiAgICAgICAgICAgICAgY29tbWl0KCdCT09LX0xJU1QnLCBzdGF0ZUJvb2tMaXN0KTsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjQ7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlIDIxOgogICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAyMTsKICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDkpOwogICAgICAgICAgICAgIGNvbW1pdCgnQk9PS19MSVNUJywgW10pOwoKICAgICAgICAgICAgY2FzZSAyNDoKICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMjQ7CiAgICAgICAgICAgICAgY29tbWl0KCdCT09LX0xJU1RfTE9BRElORycsIGZhbHNlKTsKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuZmluaXNoKDI0KTsKCiAgICAgICAgICAgIGNhc2UgMjc6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbOSwgMjEsIDI0LCAyN11dKTsKICAgIH0pKSgpOwogIH0sCiAgc2VhcmNoQm9va0J5SWQ6IGZ1bmN0aW9uIHNlYXJjaEJvb2tCeUlkKF9yZWYyLCBib29rSWQpIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICB2YXIgY29tbWl0LCBib29rQ2FjaGVkLCBfZGF0YSRzZWFyY2hJbmZvLCBfZGF0YSR2b2x1bWVJbmZvJGltYWcsIF9kYXRhJHZvbHVtZUluZm8kaW1hZzIsIF95aWVsZCRheGlvcyRnZXQyLCBkYXRhLCBib29rSW5mbzsKCiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjIuY29tbWl0OwoKICAgICAgICAgICAgICBpZiAoIShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbGFzdEJvb2tJZCcpID09PSBib29rSWQpKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDY7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGJvb2tDYWNoZWQgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdib29rSW5mbycpKTsKICAgICAgICAgICAgICBjb21taXQoJ0JPT0tfSU5GTycsIGJvb2tDYWNoZWQpOwogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjU7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2xhc3RCb29rSWQnLCBib29rSWQpOwogICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gNzsKICAgICAgICAgICAgICBjb21taXQoJ0JPT0tfSU5GT19MT0FESU5HJywgdHJ1ZSk7CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMTsKICAgICAgICAgICAgICByZXR1cm4gYXhpb3MuZ2V0KCIiLmNvbmNhdChxdWVyeSwgIi92b2x1bWVzLyIpLmNvbmNhdChib29rSWQpKTsKCiAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgX3lpZWxkJGF4aW9zJGdldDIgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICBkYXRhID0gX3lpZWxkJGF4aW9zJGdldDIuZGF0YTsKICAgICAgICAgICAgICBib29rSW5mbyA9IHsKICAgICAgICAgICAgICAgIGlkOiBkYXRhLmlkLAogICAgICAgICAgICAgICAgdGl0bGU6IGRhdGEudm9sdW1lSW5mby50aXRsZSwKICAgICAgICAgICAgICAgIGF1dGhvcjogZGF0YS52b2x1bWVJbmZvLmF1dGhvcnMgPyBkYXRhLnZvbHVtZUluZm8uYXV0aG9yc1swXSA6ICdVbmtvd24gYXV0aG9yJywKICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBkYXRhLnZvbHVtZUluZm8uZGVzY3JpcHRpb24gfHwgKChfZGF0YSRzZWFyY2hJbmZvID0gZGF0YS5zZWFyY2hJbmZvKSA9PT0gbnVsbCB8fCBfZGF0YSRzZWFyY2hJbmZvID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZGF0YSRzZWFyY2hJbmZvLnRleHRTbmlwcGV0KSB8fCAnJywKICAgICAgICAgICAgICAgIGltZ0NvdmVyOiAoKF9kYXRhJHZvbHVtZUluZm8kaW1hZyA9IGRhdGEudm9sdW1lSW5mby5pbWFnZUxpbmtzKSA9PT0gbnVsbCB8fCBfZGF0YSR2b2x1bWVJbmZvJGltYWcgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kYXRhJHZvbHVtZUluZm8kaW1hZy5zbWFsbFRodW1ibmFpbCkgfHwgKChfZGF0YSR2b2x1bWVJbmZvJGltYWcyID0gZGF0YS52b2x1bWVJbmZvLmltYWdlTGlua3MpID09PSBudWxsIHx8IF9kYXRhJHZvbHVtZUluZm8kaW1hZzIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kYXRhJHZvbHVtZUluZm8kaW1hZzIudGh1bWJuYWlsKQogICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2Jvb2tJbmZvOicsIGJvb2tJbmZvKTsKICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnYm9va0luZm8nLCBKU09OLnN0cmluZ2lmeShib29rSW5mbykpOwogICAgICAgICAgICAgIGNvbW1pdCgnQk9PS19JTkZPJywgYm9va0luZm8pOwogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjI7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlIDE5OgogICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMTk7CiAgICAgICAgICAgICAgX2NvbnRleHQyLnQwID0gX2NvbnRleHQyWyJjYXRjaCJdKDcpOwogICAgICAgICAgICAgIGNvbW1pdCgnQk9PS19JTkZPJywgbnVsbCk7CgogICAgICAgICAgICBjYXNlIDIyOgogICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMjI7CiAgICAgICAgICAgICAgY29tbWl0KCdCT09LX0lORk9fTE9BRElORycsIGZhbHNlKTsKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmZpbmlzaCgyMik7CgogICAgICAgICAgICBjYXNlIDI1OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTIsIG51bGwsIFtbNywgMTksIDIyLCAyNV1dKTsKICAgIH0pKSgpOwogIH0KfTs="},{"version":3,"sources":["/home/geffting/workspace/fotonnn/vue/desafio-frontend/foton/src/vuex/actions.js"],"names":["axios","_","query","getBookList","params","state","commit","localStorage","getItem","page","bookListCached","JSON","parse","length","setItem","get","data","bookList","items","map","book","id","title","volumeInfo","author","authors","description","searchInfo","textSnippet","imgCover","imageLinks","smallThumbnail","thumbnail","stateBookList","cloneDeep","concat","stringify","searchBookById","bookId","bookCached","bookInfo","console","log"],"mappings":"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","sourcesContent":["import axios from 'axios'\nimport _ from 'lodash'\nconst query = 'https://www.googleapis.com/books/v1'\n\nexport default {\n  async getBookList({ state, commit }, params) {\n    if (localStorage.getItem('lastSearch') === params && state.page === 0) {\n      const bookListCached = JSON.parse(localStorage.getItem('bookList'))\n      commit('BOOK_LIST', bookListCached)\n      commit('SET_PAGE', (bookListCached.length / 10) - 1)\n    } else {\n      if (localStorage.getItem('lastSearch') !== params) {\n        commit('SET_PAGE', 0)\n        commit('BOOK_LIST', [])\n      }\n      localStorage.setItem('lastSearch', params)\n      try {\n        if (state.page === 0) {\n          commit('BOOK_LIST_LOADING', true)\n        }\n        const { data } = await axios.get(`${query}/volumes?maxResults=10&startIndex=${state.page}&q=${params}`)\n        const bookList = data.items.map((book) => {\n          return {\n            id: book.id,\n            title: book.volumeInfo.title,\n            author: book.volumeInfo.authors ? book.volumeInfo.authors[0] : 'Unkown author',\n            description: book.volumeInfo.description || book.searchInfo?.textSnippet || '',\n            imgCover: book.volumeInfo.imageLinks?.smallThumbnail || book.volumeInfo.imageLinks?.thumbnail\n          }\n        })\n        const stateBookList = _.cloneDeep(state.bookList).concat(bookList)\n        localStorage.setItem('bookList', JSON.stringify(stateBookList))\n        commit('BOOK_LIST', stateBookList)\n      } catch {\n        commit('BOOK_LIST', [])\n      } finally {\n        commit('BOOK_LIST_LOADING', false)\n      }\n    }\n  },\n  async searchBookById({ commit }, bookId) {\n    if (localStorage.getItem('lastBookId') === bookId) {\n      const bookCached = JSON.parse(localStorage.getItem('bookInfo'))\n      commit('BOOK_INFO', bookCached)\n    } else {\n      localStorage.setItem('lastBookId', bookId)\n      try {\n        commit('BOOK_INFO_LOADING', true)\n        const { data } = await axios.get(`${query}/volumes/${bookId}`)\n        const bookInfo = {\n          id: data.id,\n          title: data.volumeInfo.title,\n          author: data.volumeInfo.authors ? data.volumeInfo.authors[0] : 'Unkown author',\n          description: data.volumeInfo.description || data.searchInfo?.textSnippet || '',\n          imgCover: data.volumeInfo.imageLinks?.smallThumbnail || data.volumeInfo.imageLinks?.thumbnail\n        }\n        console.log('bookInfo:', bookInfo)\n        localStorage.setItem('bookInfo', JSON.stringify(bookInfo))\n        commit('BOOK_INFO', bookInfo)\n      } catch {\n        commit('BOOK_INFO', null)\n      } finally {\n        commit('BOOK_INFO_LOADING', false)\n      }\n    }\n  }\n}"]}]}