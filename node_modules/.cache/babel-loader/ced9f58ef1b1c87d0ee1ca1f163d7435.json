{"remainingRequest":"/home/geffting/workspace/foton/vue/desafio-frontend/foton/node_modules/babel-loader/lib/index.js!/home/geffting/workspace/foton/vue/desafio-frontend/foton/node_modules/@vue/cli-plugin-eslint/node_modules/eslint-loader/index.js??ref--13-0!/home/geffting/workspace/foton/vue/desafio-frontend/foton/src/vuex/actions.js","dependencies":[{"path":"/home/geffting/workspace/foton/vue/desafio-frontend/foton/src/vuex/actions.js","mtime":1620187199317},{"path":"/home/geffting/workspace/foton/vue/desafio-frontend/foton/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/geffting/workspace/foton/vue/desafio-frontend/foton/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/geffting/workspace/foton/vue/desafio-frontend/foton/node_modules/@vue/cli-plugin-eslint/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL2dlZmZ0aW5nL3dvcmtzcGFjZS9mb3Rvbi92dWUvZGVzYWZpby1mcm9udGVuZC9mb3Rvbi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uLmpzIjsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IF8gZnJvbSAnbG9kYXNoJzsKdmFyIHF1ZXJ5ID0gJ2h0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL2Jvb2tzL3YxJzsKZXhwb3J0IGRlZmF1bHQgewogIGdldEJvb2tMaXN0OiBmdW5jdGlvbiBnZXRCb29rTGlzdChfcmVmLCBwYXJhbXMpIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHZhciBzdGF0ZSwgY29tbWl0LCBib29rTGlzdENhY2hlZCwgX3lpZWxkJGF4aW9zJGdldCwgZGF0YSwgYm9va0xpc3QsIHN0YXRlQm9va0xpc3Q7CgogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgc3RhdGUgPSBfcmVmLnN0YXRlLCBjb21taXQgPSBfcmVmLmNvbW1pdDsKCiAgICAgICAgICAgICAgaWYgKCEobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2xhc3RTZWFyY2gnKSA9PT0gcGFyYW1zICYmIHN0YXRlLnBhZ2UgPT09IDApKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNzsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgYm9va0xpc3RDYWNoZWQgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdib29rTGlzdCcpKTsKICAgICAgICAgICAgICBjb21taXQoJ0JPT0tfTElTVCcsIGJvb2tMaXN0Q2FjaGVkKTsKICAgICAgICAgICAgICBjb21taXQoJ1NFVF9QQUdFJywgYm9va0xpc3RDYWNoZWQubGVuZ3RoIC8gMTAgLSAxKTsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjc7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdsYXN0U2VhcmNoJykgIT09IHBhcmFtcykgewogICAgICAgICAgICAgICAgY29tbWl0KCdTRVRfUEFHRScsIDApOwogICAgICAgICAgICAgICAgY29tbWl0KCdCT09LX0xJU1QnLCBbXSk7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnbGFzdFNlYXJjaCcsIHBhcmFtcyk7CiAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDk7CgogICAgICAgICAgICAgIGlmIChzdGF0ZS5wYWdlID09PSAwKSB7CiAgICAgICAgICAgICAgICBjb21taXQoJ0JPT0tfTElTVF9MT0FESU5HJywgdHJ1ZSk7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTM7CiAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLmdldCgiIi5jb25jYXQocXVlcnksICIvdm9sdW1lcz9tYXhSZXN1bHRzPTEwJnN0YXJ0SW5kZXg9IikuY29uY2F0KHN0YXRlLnBhZ2UsICImcT0iKS5jb25jYXQocGFyYW1zKSk7CgogICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgIF95aWVsZCRheGlvcyRnZXQgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgIGRhdGEgPSBfeWllbGQkYXhpb3MkZ2V0LmRhdGE7CiAgICAgICAgICAgICAgYm9va0xpc3QgPSBkYXRhLml0ZW1zLm1hcChmdW5jdGlvbiAoYm9vaykgewogICAgICAgICAgICAgICAgdmFyIF9ib29rJHNlYXJjaEluZm8sIF9ib29rJHZvbHVtZUluZm8kaW1hZywgX2Jvb2skdm9sdW1lSW5mbyRpbWFnMjsKCiAgICAgICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgICBpZDogYm9vay5pZCwKICAgICAgICAgICAgICAgICAgdGl0bGU6IGJvb2sudm9sdW1lSW5mby50aXRsZSwKICAgICAgICAgICAgICAgICAgYXV0aG9yOiBib29rLnZvbHVtZUluZm8uYXV0aG9ycyA/IGJvb2sudm9sdW1lSW5mby5hdXRob3JzWzBdIDogJ1Vua293biBhdXRob3InLAogICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogYm9vay52b2x1bWVJbmZvLmRlc2NyaXB0aW9uIHx8ICgoX2Jvb2skc2VhcmNoSW5mbyA9IGJvb2suc2VhcmNoSW5mbykgPT09IG51bGwgfHwgX2Jvb2skc2VhcmNoSW5mbyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Jvb2skc2VhcmNoSW5mby50ZXh0U25pcHBldCkgfHwgJycsCiAgICAgICAgICAgICAgICAgIGltZ0NvdmVyOiAoKF9ib29rJHZvbHVtZUluZm8kaW1hZyA9IGJvb2sudm9sdW1lSW5mby5pbWFnZUxpbmtzKSA9PT0gbnVsbCB8fCBfYm9vayR2b2x1bWVJbmZvJGltYWcgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9ib29rJHZvbHVtZUluZm8kaW1hZy5zbWFsbFRodW1ibmFpbCkgfHwgKChfYm9vayR2b2x1bWVJbmZvJGltYWcyID0gYm9vay52b2x1bWVJbmZvLmltYWdlTGlua3MpID09PSBudWxsIHx8IF9ib29rJHZvbHVtZUluZm8kaW1hZzIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9ib29rJHZvbHVtZUluZm8kaW1hZzIudGh1bWJuYWlsKQogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICBzdGF0ZUJvb2tMaXN0ID0gXy5jbG9uZURlZXAoc3RhdGUuYm9va0xpc3QpLmNvbmNhdChib29rTGlzdCk7CiAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2Jvb2tMaXN0JywgSlNPTi5zdHJpbmdpZnkoc3RhdGVCb29rTGlzdCkpOwogICAgICAgICAgICAgIGNvbW1pdCgnQk9PS19MSVNUJywgc3RhdGVCb29rTGlzdCk7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI0OwogICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgY2FzZSAyMToKICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMjE7CiAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFsiY2F0Y2giXSg5KTsKICAgICAgICAgICAgICBjb21taXQoJ0JPT0tfTElTVCcsIFtdKTsKCiAgICAgICAgICAgIGNhc2UgMjQ6CiAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDI0OwogICAgICAgICAgICAgIGNvbW1pdCgnQk9PS19MSVNUX0xPQURJTkcnLCBmYWxzZSk7CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmZpbmlzaCgyNCk7CgogICAgICAgICAgICBjYXNlIDI3OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzksIDIxLCAyNCwgMjddXSk7CiAgICB9KSkoKTsKICB9LAogIHNlYXJjaEJvb2tCeUlkOiBmdW5jdGlvbiBzZWFyY2hCb29rQnlJZChfcmVmMiwgYm9va0lkKSB7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgdmFyIGNvbW1pdCwgYm9va0NhY2hlZCwgX2RhdGEkc2VhcmNoSW5mbywgX2RhdGEkdm9sdW1lSW5mbyRpbWFnLCBfZGF0YSR2b2x1bWVJbmZvJGltYWcyLCBfeWllbGQkYXhpb3MkZ2V0MiwgZGF0YSwgYm9va0luZm87CgogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYyLmNvbW1pdDsKCiAgICAgICAgICAgICAgaWYgKCEobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2xhc3RCb29rSWQnKSA9PT0gYm9va0lkKSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA2OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBib29rQ2FjaGVkID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYm9va0luZm8nKSk7CiAgICAgICAgICAgICAgY29tbWl0KCdCT09LX0lORk8nLCBib29rQ2FjaGVkKTsKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI0OwogICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdsYXN0Qm9va0lkJywgYm9va0lkKTsKICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDc7CiAgICAgICAgICAgICAgY29tbWl0KCdCT09LX0lORk9fTE9BRElORycsIHRydWUpOwogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLmdldCgiIi5jb25jYXQocXVlcnksICIvdm9sdW1lcy8iKS5jb25jYXQoYm9va0lkKSk7CgogICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgIF95aWVsZCRheGlvcyRnZXQyID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgZGF0YSA9IF95aWVsZCRheGlvcyRnZXQyLmRhdGE7CiAgICAgICAgICAgICAgYm9va0luZm8gPSB7CiAgICAgICAgICAgICAgICBpZDogZGF0YS5pZCwKICAgICAgICAgICAgICAgIHRpdGxlOiBkYXRhLnZvbHVtZUluZm8udGl0bGUsCiAgICAgICAgICAgICAgICBhdXRob3I6IGRhdGEudm9sdW1lSW5mby5hdXRob3JzID8gZGF0YS52b2x1bWVJbmZvLmF1dGhvcnNbMF0gOiAnVW5rb3duIGF1dGhvcicsCiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogZGF0YS52b2x1bWVJbmZvLmRlc2NyaXB0aW9uIHx8ICgoX2RhdGEkc2VhcmNoSW5mbyA9IGRhdGEuc2VhcmNoSW5mbykgPT09IG51bGwgfHwgX2RhdGEkc2VhcmNoSW5mbyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2RhdGEkc2VhcmNoSW5mby50ZXh0U25pcHBldCkgfHwgJycsCiAgICAgICAgICAgICAgICBpbWdDb3ZlcjogKChfZGF0YSR2b2x1bWVJbmZvJGltYWcgPSBkYXRhLnZvbHVtZUluZm8uaW1hZ2VMaW5rcykgPT09IG51bGwgfHwgX2RhdGEkdm9sdW1lSW5mbyRpbWFnID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZGF0YSR2b2x1bWVJbmZvJGltYWcuc21hbGxUaHVtYm5haWwpIHx8ICgoX2RhdGEkdm9sdW1lSW5mbyRpbWFnMiA9IGRhdGEudm9sdW1lSW5mby5pbWFnZUxpbmtzKSA9PT0gbnVsbCB8fCBfZGF0YSR2b2x1bWVJbmZvJGltYWcyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZGF0YSR2b2x1bWVJbmZvJGltYWcyLnRodW1ibmFpbCkKICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdib29rSW5mbycsIEpTT04uc3RyaW5naWZ5KGJvb2tJbmZvKSk7CiAgICAgICAgICAgICAgY29tbWl0KCdCT09LX0lORk8nLCBib29rSW5mbyk7CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyMTsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgMTg6CiAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAxODsKICAgICAgICAgICAgICBfY29udGV4dDIudDAgPSBfY29udGV4dDJbImNhdGNoIl0oNyk7CiAgICAgICAgICAgICAgY29tbWl0KCdCT09LX0lORk8nLCBudWxsKTsKCiAgICAgICAgICAgIGNhc2UgMjE6CiAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAyMTsKICAgICAgICAgICAgICBjb21taXQoJ0JPT0tfSU5GT19MT0FESU5HJywgZmFsc2UpOwogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuZmluaXNoKDIxKTsKCiAgICAgICAgICAgIGNhc2UgMjQ6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMiwgbnVsbCwgW1s3LCAxOCwgMjEsIDI0XV0pOwogICAgfSkpKCk7CiAgfQp9Ow=="},{"version":3,"sources":["/home/geffting/workspace/foton/vue/desafio-frontend/foton/src/vuex/actions.js"],"names":["axios","_","query","getBookList","params","state","commit","localStorage","getItem","page","bookListCached","JSON","parse","length","setItem","get","data","bookList","items","map","book","id","title","volumeInfo","author","authors","description","searchInfo","textSnippet","imgCover","imageLinks","smallThumbnail","thumbnail","stateBookList","cloneDeep","concat","stringify","searchBookById","bookId","bookCached","bookInfo"],"mappings":"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","sourcesContent":["import axios from 'axios'\nimport _ from 'lodash'\nconst query = 'https://www.googleapis.com/books/v1'\n\nexport default {\n  async getBookList({ state, commit }, params) {\n    if (localStorage.getItem('lastSearch') === params && state.page === 0) {\n      const bookListCached = JSON.parse(localStorage.getItem('bookList'))\n      commit('BOOK_LIST', bookListCached)\n      commit('SET_PAGE', (bookListCached.length / 10) - 1)\n    } else {\n      if (localStorage.getItem('lastSearch') !== params) {\n        commit('SET_PAGE', 0)\n        commit('BOOK_LIST', [])\n      }\n      localStorage.setItem('lastSearch', params)\n      try {\n        if (state.page === 0) {\n          commit('BOOK_LIST_LOADING', true)\n        }\n        const { data } = await axios.get(`${query}/volumes?maxResults=10&startIndex=${state.page}&q=${params}`)\n        const bookList = data.items.map((book) => {\n          return {\n            id: book.id,\n            title: book.volumeInfo.title,\n            author: book.volumeInfo.authors ? book.volumeInfo.authors[0] : 'Unkown author',\n            description: book.volumeInfo.description || book.searchInfo?.textSnippet || '',\n            imgCover: book.volumeInfo.imageLinks?.smallThumbnail || book.volumeInfo.imageLinks?.thumbnail\n          }\n        })\n        const stateBookList = _.cloneDeep(state.bookList).concat(bookList)\n        localStorage.setItem('bookList', JSON.stringify(stateBookList))\n        commit('BOOK_LIST', stateBookList)\n      } catch {\n        commit('BOOK_LIST', [])\n      } finally {\n        commit('BOOK_LIST_LOADING', false)\n      }\n    }\n  },\n  async searchBookById({ commit }, bookId) {\n    if (localStorage.getItem('lastBookId') === bookId) {\n      const bookCached = JSON.parse(localStorage.getItem('bookInfo'))\n      commit('BOOK_INFO', bookCached)\n    } else {\n      localStorage.setItem('lastBookId', bookId)\n      try {\n        commit('BOOK_INFO_LOADING', true)\n        const { data } = await axios.get(`${query}/volumes/${bookId}`)\n        const bookInfo = {\n          id: data.id,\n          title: data.volumeInfo.title,\n          author: data.volumeInfo.authors ? data.volumeInfo.authors[0] : 'Unkown author',\n          description: data.volumeInfo.description || data.searchInfo?.textSnippet || '',\n          imgCover: data.volumeInfo.imageLinks?.smallThumbnail || data.volumeInfo.imageLinks?.thumbnail\n        }\n        localStorage.setItem('bookInfo', JSON.stringify(bookInfo))\n        commit('BOOK_INFO', bookInfo)\n      } catch {\n        commit('BOOK_INFO', null)\n      } finally {\n        commit('BOOK_INFO_LOADING', false)\n      }\n    }\n  }\n}"]}]}